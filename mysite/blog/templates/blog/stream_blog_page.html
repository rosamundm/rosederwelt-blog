{% extends "base.html" %}

{% load static wagtailcore_tags wagtailimages_tags wagtailcodeblock_tags %}


<!-- for WagtailCodeBlock: -->
<script src="{% static 'js/prism.js' %}" type="text/javascript"></script>
<link rel="stylesheet" href="{% static 'css/prism-synthwave84.css' %}" type="text/css">

{% load_prism_theme %}

{% block body_class %}template-streamblogpage{% endblock %} 


{% block content %}


<h1>{{ page.title }}</h1>
  <p class="meta">{{ page.date }}</p>
{% if page.tags.all.count %}
    <div class="tags">
        <small>
	   category is ~ 
            {% for tag in page.tags.all %}
              <a href="{% slugurl 'tags' %}?tag={{ tag }}">{{ tag }}</a> ~
            {% endfor %}
        </small>
    </div>
{% endif %}

<br>


{% with blocks=self.contents %}

    {% for block in blocks %}
        {% if block.block_type == "paragraph" %}
           <div>
               {{ block.value }}
           </div>
        {% elif block.block_type == "image" %}
         <section> 
          <div class="pic-block">
              {% image block.image width-300 as my_image %}
                 <img src="{{ my_image.url }}" class="img-responsive" />
               <p>{{ my_image.caption }}</p>
          </div> 
         </section>

        {% else %}
        <section class="block-{{ block.block_type }}">
          {{ block }}
        </section>   
     {% endif %}
    {% endfor %}

{% endwith %}


{% endblock %}
